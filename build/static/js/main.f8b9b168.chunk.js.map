{"version":3,"sources":["services/UserService.js","utils/store.js","components/Navbar.js","assets/images/login_image.svg","pages/Login.js","pages/Users.js","pages/Inventory.js","utils/constants.js","utils/AdminRoute.js","utils/UserRoute.js","utils/PublicRoute.js","App.js","index.js"],"names":["USER_API_BASE_URL","UserService","getAllUsers","axios","get","postRegister","user","post","postLogin","postLogout","getUser","localStorage","getItem","JSON","parse","Navbar","onLogout","then","res","status","removeItem","window","location","reload","console","log","pathname","id","className","userType","href","onClick","Login","useState","username","setUsername","password","setPassword","errorMessage","setErrorMessage","onSignin","setItem","stringify","setUserLocal","data","catch","err","response","type","placeholder","value","onChange","e","target","onKeyPress","key","src","loginImage","alt","Users","Inventory","USER_FALLBACK","AdminRoute","Component","component","rest","render","props","to","state","from","UserRoute","PublicRoute","App","path","document","getElementById"],"mappings":"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","file":"static/js/main.f8b9b168.chunk.js","sourcesContent":["/* Contains the functions to requests to URL Paths in relation to the `users` collection */\r\n\r\nimport axios from \"axios\";\r\n\r\nconst USER_API_BASE_URL = \"/api/users\";\r\n\r\nconst UserService = {\r\n  getAllUsers: () => axios.get(USER_API_BASE_URL),\r\n  postRegister: (user) => axios.post(`${USER_API_BASE_URL}/register`, user),\r\n  postLogin: (user) => axios.post(`${USER_API_BASE_URL}/login`, user),\r\n  postLogout: () => axios.post(`${USER_API_BASE_URL}/logout`),\r\n}\r\n\r\nexport default UserService;","// local storage for the user\r\n\r\n/* ---------------- USER ------------------*/\r\n\r\n// return the user data from the local storage\r\nexport const getUser = () => {\r\n  const user = localStorage.getItem('user');\r\n  if (user) return JSON.parse(user);\r\n  return null;\r\n};\r\n\r\n// remove the token and user from the local storage\r\nexport const removeLocalUser = () => {\r\n  localStorage.removeItem('user');\r\n};\r\n\r\n// set the token and user from the local storage\r\nexport const setUserLocal = (user) => {\r\n  localStorage.setItem('user', JSON.stringify(user));\r\n};","import React from 'react';\r\nimport UserService from '../services/UserService';\r\nimport { getUser, removeLocalUser } from '../utils/store';\r\n\r\nimport '../assets/styles/components/Navbar.css';\r\n\r\nconst Navbar = () => {\r\n  const onLogout = () => {\r\n    UserService.postLogout()\r\n      .then((res) => {\r\n        if(res.status === 200) {\r\n          removeLocalUser();\r\n          window.location.reload();\r\n        } else {\r\n          console.log(\"There was an error logging out...\");\r\n        } \r\n      })\r\n  }\r\n\r\n  console.log(window.location.pathname)\r\n\r\n  return <div id=\"navbar\">\r\n    <div className=\"left\" />\r\n    <div className=\"middle\">\r\n      {getUser().userType === \"admin\" ? <a href=\"/users\" className={window.location.pathname === '/users' ? \"active\" : \"\"}>Users</a> : <></>}\r\n      <a href=\"/inventory\" className={window.location.pathname === '/inventory' ? \"active\" : \"\"}>Inventory</a>\r\n    </div>\r\n    <button className=\"logout-button\" onClick={() => onLogout()}>Log out</button>\r\n  </div>\r\n}\r\n\r\nexport default Navbar;","export default __webpack_public_path__ + \"static/media/login_image.6954d3e8.svg\";","import React, { useState, useEffect } from 'react';\r\n\r\nimport UserService from '../services/UserService';\r\n\r\nimport { setUserLocal } from '../utils/store';\r\n\r\nimport loginImage from '../assets/images/login_image.svg';\r\n\r\nimport '../assets/styles/pages/Login.css';\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  // calls this when logging in\r\n  const onSignin = () => {\r\n    const user = {\r\n      username,\r\n      password\r\n    };\r\n\r\n    if(username === '') {\r\n      setErrorMessage(\"Username is empty\");\r\n      return;\r\n    }\r\n\r\n    if(password === '') {\r\n      setErrorMessage(\"Password is empty\");\r\n      return;\r\n    }\r\n\r\n    UserService.postLogin(user)\r\n      .then((res) => {\r\n        if(res.status === 200) {\r\n          const user = {\r\n            username,\r\n            userType: res.data.userType,\r\n          }\r\n          setUserLocal(user);\r\n          window.location.reload();\r\n        } \r\n      })\r\n      .catch((err) => {\r\n        if (err.response.status === 401) {\r\n          setErrorMessage(\"Invalid username or password\");  \r\n        }\r\n      })\r\n  }\r\n\r\n  return <div id=\"login-page\">\r\n    <div className=\"card\">\r\n      <p className=\"title\">Login</p>\r\n      <p className=\"sub-title\">Welcome back!</p>\r\n      <input \r\n        type=\"text\" \r\n        placeholder=\"Username\"\r\n        value={username} \r\n        onChange={(e) => setUsername(e.target.value)} \r\n        onKeyPress={(e) => e.key === 'Enter' && onSignin()}\r\n      />\r\n      <input \r\n        type=\"password\" \r\n        placeholder=\"Password\"\r\n        value={password} \r\n        onChange={(e) => setPassword(e.target.value)} \r\n        onKeyPress={(e) => e.key === 'Enter' && onSignin()}\r\n      />\r\n      <p className=\"error-message\">{errorMessage}</p>\r\n      <img src={loginImage} alt=\"Login\" />\r\n      <button onClick={() => onSignin()}>Sign in</button>\r\n    </div>\r\n  </div>\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\n\r\nimport '../assets/styles/pages/Users.css';\r\n\r\nconst Users = () => {\r\n  return <div>\r\n    <h1>Users Page</h1>\r\n  </div>\r\n};\r\n\r\nexport default Users;","import React from 'react';\r\n\r\nimport '../assets/styles/pages/Inventory.css';\r\n\r\nconst Inventory = () => {\r\n  return <div>\r\n    <h1>Inventory Page</h1>\r\n  </div>\r\n};\r\n\r\nexport default Inventory;","const LOGIN_FALLBACK = '/';\r\nconst ADMIN_FALLBACK = '/users';\r\nconst USER_FALLBACK = '/inventory';\r\n\r\nexport { \r\n  LOGIN_FALLBACK,\r\n  ADMIN_FALLBACK,\r\n  USER_FALLBACK \r\n};","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getUser } from './store';\r\nimport { LOGIN_FALLBACK, USER_FALLBACK } from './constants';\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) => {\r\n      // checks if user is logged in\r\n      if (getUser()) {\r\n        // checks if user is a user, if he is, he'll be redirected to user page\r\n        if (getUser().userType === 'user') {\r\n          return (\r\n            <Redirect\r\n              to={{\r\n                pathname: USER_FALLBACK,\r\n                state: {\r\n                  from: props.location,\r\n                },\r\n              }}\r\n            />\r\n          );\r\n        }\r\n\r\n        // if not, then the user will see the admin page\r\n        return <Component {...props} />;\r\n      }\r\n      // if user is logged out, redirect to login page\r\n      return (\r\n        <Redirect\r\n          to={{\r\n            pathname: LOGIN_FALLBACK,\r\n            state: {\r\n              from: props.location,\r\n            },\r\n          }}\r\n        />\r\n      );\r\n    }}\r\n  />\r\n);\r\n\r\nexport default AdminRoute;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getUser } from './store';\r\nimport { LOGIN_FALLBACK } from './constants';\r\n\r\nconst UserRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) => {\r\n      // checks if user is logged in\r\n      if (getUser()) {\r\n\r\n        // if not, then the user will see the user page\r\n        return <Component {...props} />;\r\n      }\r\n      // if user is logged out, redirect to login page\r\n      return (\r\n        <Redirect\r\n          to={{\r\n            pathname: LOGIN_FALLBACK,\r\n            state: {\r\n              from: props.location,\r\n            },\r\n          }}\r\n        />\r\n      );\r\n    }}\r\n  />\r\n);\r\n\r\nexport default UserRoute;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getUser } from './store';\r\nimport { ADMIN_FALLBACK, USER_FALLBACK } from './constants';\r\n\r\nconst PublicRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) => {\r\n      // if user is not logged in, stay in the login page\r\n      if (!getUser()) return <Component {...props} />;\r\n      // check if user is an admin, if yes, then user will be redirected to admin page\r\n      if (getUser().userType === 'admin') return <Redirect to={{ pathname: ADMIN_FALLBACK }} />;\r\n      // if user is user, then user will be redirected to the user page\r\n      return <Redirect to={{ pathname: USER_FALLBACK }} />;\r\n    }}\r\n  />\r\n);\r\n\r\nexport default PublicRoute;","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\nimport { Navbar } from './components';\r\nimport { Login, Users, Inventory } from './pages';\r\nimport { AdminRoute, UserRoute, PublicRoute } from './utils';\r\n\r\nimport './assets/styles/App.css';\r\n\r\nexport default class App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <div className=\"app\">\r\n          <Switch>\r\n            <AdminRoute path=\"/users\" component={Navbar} />\r\n            <UserRoute path=\"/inventory\" component={Navbar} />\r\n            <Route path=\"/\" component={() => <></>} />\r\n          </Switch>\r\n          <Switch>\r\n            <AdminRoute path=\"/users\" component={Users} />\r\n            <UserRoute path=\"/inventory\" component={Inventory} />\r\n            <PublicRoute path=\"/\" component={Login} />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { render } from \"react-dom\";\r\nimport './assets/styles/index.css';\r\nimport App from './App';\r\n\r\nrender(<App />, document.getElementById('root'));"],"sourceRoot":""}