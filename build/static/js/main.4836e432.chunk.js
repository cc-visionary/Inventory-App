(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{39:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n(28),a=(n(39),n(29)),s=n(30),r=n(34),i=n(33),j=n(11),u=n(2),l=n(13),b=n.n(l),O="/api/users",p={getAllUsers:function(){return b.a.get(O)},postRegister:function(e){return b.a.post("".concat(O,"/register"),e)},postLogin:function(e){return b.a.post("".concat(O,"/login"),e)},postLogout:function(){return b.a.post("".concat(O,"/logout"))}},d=function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null},m=(n(58),n(0)),h=function(){var e=function(){p.postLogout().then((function(e){200===e.status?(localStorage.removeItem("user"),window.location.reload()):console.log("There was an error logging out...")}))};return console.log(window.location.pathname),Object(m.jsxs)("div",{id:"navbar",children:[Object(m.jsx)("div",{className:"left"}),Object(m.jsxs)("div",{className:"middle",children:["admin"===d().userType?Object(m.jsx)("a",{href:"/users",className:"/users"===window.location.pathname?"active":"",children:"Users"}):Object(m.jsx)(m.Fragment,{}),Object(m.jsx)("a",{href:"/inventory",className:"/inventory"===window.location.pathname?"active":"",children:"Inventory"})]}),Object(m.jsx)("button",{className:"logout-button",onClick:function(){return e()},children:"Log out"})]})},x=n(16),f=n.p+"static/media/login_image.6954d3e8.svg",g=(n(60),function(){var e=Object(c.useState)(""),t=Object(x.a)(e,2),n=t[0],o=t[1],a=Object(c.useState)(""),s=Object(x.a)(a,2),r=s[0],i=s[1],j=Object(c.useState)(""),u=Object(x.a)(j,2),l=u[0],b=u[1],O=function(){var e={username:n,password:r};""!==n?""!==r?p.postLogin(e).then((function(e){200===e.status&&(!function(e){localStorage.setItem("user",JSON.stringify(e))}({username:n,password:r,userType:e.data.userType}),window.location.reload())})).catch((function(e){401===e.response.status&&b("Invalid username or password")})):b("Password is empty"):b("Username is empty")};return Object(m.jsx)("div",{id:"login-page",children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("p",{className:"title",children:"Login"}),Object(m.jsx)("p",{className:"sub-title",children:"Welcome back!"}),Object(m.jsx)("input",{type:"text",placeholder:"Username",value:n,onChange:function(e){return o(e.target.value)}}),Object(m.jsx)("input",{type:"password",placeholder:"Password",value:r,onChange:function(e){return i(e.target.value)}}),Object(m.jsx)("p",{className:"error-message",children:l}),Object(m.jsx)("img",{src:f,alt:"Login"}),Object(m.jsx)("button",{onClick:function(){return O()},children:"Sign in"})]})})}),v=(n(61),function(){return Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"Users Page"})})}),w=(n(62),function(){return Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"Inventory Page"})})}),y=n(8),N=n(10),S="/inventory",I=["component"],L=function(e){var t=e.component,n=Object(N.a)(e,I);return Object(m.jsx)(u.b,Object(y.a)(Object(y.a)({},n),{},{render:function(e){return d()?"user"===d().userType?Object(m.jsx)(u.a,{to:{pathname:S,state:{from:e.location}}}):Object(m.jsx)(t,Object(y.a)({},e)):Object(m.jsx)(u.a,{to:{pathname:"/",state:{from:e.location}}})}}))},k=["component"],T=function(e){var t=e.component,n=Object(N.a)(e,k);return Object(m.jsx)(u.b,Object(y.a)(Object(y.a)({},n),{},{render:function(e){return d()?Object(m.jsx)(t,Object(y.a)({},e)):Object(m.jsx)(u.a,{to:{pathname:"/",state:{from:e.location}}})}}))},C=["component"],U=function(e){var t=e.component,n=Object(N.a)(e,C);return Object(m.jsx)(u.b,Object(y.a)(Object(y.a)({},n),{},{render:function(e){return d()?"admin"===d().userType?Object(m.jsx)(u.a,{to:{pathname:"/users"}}):Object(m.jsx)(u.a,{to:{pathname:S}}):Object(m.jsx)(t,Object(y.a)({},e))}}))},J=(n(71),function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).state={},c}return Object(s.a)(n,[{key:"render",value:function(){return Object(m.jsx)(j.a,{children:Object(m.jsxs)("div",{className:"app",children:[Object(m.jsxs)(u.d,{children:[Object(m.jsx)(L,{path:"/users",component:h}),Object(m.jsx)(T,{path:"/inventory",component:h}),Object(m.jsx)(u.b,{path:"/",component:function(){return Object(m.jsx)(m.Fragment,{})}})]}),Object(m.jsxs)(u.d,{children:[Object(m.jsx)(L,{path:"/users",component:v}),Object(m.jsx)(T,{path:"/inventory",component:w}),Object(m.jsx)(U,{path:"/",component:g})]})]})})}}]),n}(c.Component));Object(o.render)(Object(m.jsx)(J,{}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.4836e432.chunk.js.map